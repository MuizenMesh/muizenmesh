# MuizenMesh Project - Developer Guide

## Project Overview

MuizenMesh is a multi-component online community network platform hosted at muizenmesh.co.za. It's a comprehensive web platform that combines several distinct applications and services under one umbrella.

### Core Technologies
- **Languages**: PHP, HTML, CSS, JavaScript
- **Frameworks**: Bootstrap 5.3.1, jQuery, Three.js
- **CMS Systems**: Zenphoto (v1.6.5), FlatBoard (v3.1)
- **Package Management**: Composer
- **Server**: Apache with mod_rewrite

## Project Structure

### Main Components

#### 1. Main Website (`/`)
- **Purpose**: Landing page and navigation hub for all services
- **Key Files**: `index.html`, `css/screen.css`, `js/index.js`
- **Features**: Particle.js background, responsive design, Google Analytics integration
- **Navigation**: Links to all sub-services (BBS, Wiki, Dawn Patrol, Mixer, etc.)

#### 2. BBS Forum (`/bbs/`)
- **System**: FlatBoard v3.1 (Codename: TOKYO)
- **Purpose**: Flat-file bulletin board system
- **Key Files**: 
  - `bbs/init.php` - Core initialization
  - `bbs/config.php` - Configuration management
  - `bbs/data/` - Flat-file data storage
- **Features**: Plugin system, user management, JSON-powered
- **Requirements**: PHP 5.3+, mbstring module

#### 3. Photo Gallery (`/zen/`)
- **System**: Zenphoto v1.6.5
- **Purpose**: Media website CMS for images, video, and audio
- **Key Files**: 
  - `zen/zp-core/` - Core system files
  - `zen/themes/` - Theme templates
  - `zen/zp-extensions/` - Plugin extensions
- **Features**: Multimedia support, blog functionality via Zenpage

#### 4. Music Mixer (`/mixer/`)
- **System**: Akko Music Visualising Framework
- **Purpose**: Browser-based audio visualization and mixing
- **Key Files**: `mixer/index.html`, `mixer/audio/`
- **Features**: Three.js 3D visualizations, drag-and-drop audio support

#### 5. Payment Gateway (`/paygate/`)
- **System**: Yoco SDK integration
- **Purpose**: Payment processing for services
- **Key Files**: `paygate/index.html`, `paygate/index.js`
- **Features**: ZAR currency support, test environment setup

## Development Guidelines

### Code Style and Standards
- **Indentation**: Tabs (4 spaces) for most files, 2 spaces for Twig templates
- **Encoding**: UTF-8 with LF line endings
- **Trim**: Trailing whitespace removal enforced
- **Final newline**: Required in all files

### File Organization
- Static assets in respective directories (`css/`, `js/`, `images/`, `fonts/`)
- Each major component has its own directory structure
- Shared vendor dependencies in `/vendor/`
- Configuration files at component root level

### Security Considerations
- Content filtering implemented in BBS (`CONTENT_FILTER` regex)
- IP blocking capabilities in FlatBoard
- Login attempt limitations (max 3 attempts)
- CSRF protection in place
- .htaccess rules for URL rewriting and security

### Plugin Architecture

#### FlatBoard Plugins (`/bbs/plugin/`)
- Modular plugin system with hooks
- Plugin data stored in `/bbs/data/plugin/`
- Available plugins: backup, darkmode, mentions, notifications, etc.
- Plugin configuration via admin interface

#### Zenphoto Extensions (`/zen/zp-core/zp-extensions/`)
- Extensive plugin ecosystem
- Themes in `/zen/themes/`
- Multiple layout options (Bootstrap, mobile-optimized)

## Best Practices

### Development Workflow
1. **Test locally** before deploying to production
2. **Backup data directories** before major changes (especially `/bbs/data/` and Zenphoto albums)
3. **Use version control** for all custom modifications
4. **Document plugin configurations** and customizations

### Performance Optimization
- Minified JavaScript libraries included (`particles.min.js`, `jquery.min.js`)
- CSS optimization with normalized styles
- Lazy loading implemented where appropriate
- CDN usage for Bootstrap and external libraries

### Maintenance Tasks
- **Regular backups** of flat-file data in BBS system
- **Monitor error logs** in `/bbs/error.log`
- **Update dependencies** via Composer when needed
- **Theme customizations** should be documented

### Component-Specific Notes

#### BBS (FlatBoard)
- Data stored as flat files in `/bbs/data/`
- User management through admin interface
- Plugin system allows extensive customization
- Multilingual support (currently English)

#### Zenphoto
- Media files managed through admin interface
- Theme customization in `/zen/themes/`
- Database-driven (unlike BBS flat-file system)
- Extensive metadata support for media files

#### Mixer (Akko)
- Client-side only (no server persistence)
- Three.js dependency for 3D visualizations
- Audio files in `/mixer/audio/` for demo purposes
- ES5 compatibility maintained

## Configuration Files

### Important Config Locations
- **BBS**: `/bbs/data/config/config.dat.php`
- **Zenphoto**: Database configuration in setup
- **Apache**: `.htaccess` files in root and subdirectories
- **Composer**: `vendor/autoload.php` for dependency management

### Environment Setup
- PHP 5.3+ required (7.0+ recommended for Composer dependencies)
- Apache with mod_rewrite enabled
- mbstring extension for UTF-8 support
- Write permissions on data directories

## External Integrations

### Analytics and Tracking
- Google Analytics (G-9X5DSV451K)
- Tawk.to chat widget integration
- Flattr donation integration

### Payment Processing
- Yoco payment gateway (test environment)
- ZAR currency support
- Netbones Solutions Pty Ltd merchant account

### CDN and External Resources
- Bootstrap 5.3.1 from CDN
- Google Fonts integration
- jQuery and other libraries from CDN where possible

## Troubleshooting

### Common Issues
1. **File permissions** - Ensure web server can write to data directories
2. **PHP version** - Some components require different PHP versions
3. **mod_rewrite** - Required for clean URLs in multiple components
4. **Memory limits** - Media processing may require increased PHP memory

### Debug Information
- Error logging enabled in BBS component
- Zenphoto has built-in debug modes
- Browser console for JavaScript issues in Mixer component

## Support and Documentation

### Component Documentation
- **FlatBoard**: https://flatboard.org
- **Zenphoto**: http://www.zenphoto.org
- **Akko Framework**: Documentation in mixer examples
- **Bootstrap**: https://getbootstrap.com/docs/5.3/

### Community Resources
- FlatBoard support forum
- Zenphoto community forums
- GitHub repositories for open-source components
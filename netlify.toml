[build]
  publish = "."
  
# Redirect old URLs to new locations
[[redirects]]
  from = "/bbs/*"
  to = "https://discord.gg/muizenmesh"
  status = 302
  
[[redirects]]
  from = "/zen/*"
  to = "/gallery"
  status = 302
  
[[redirects]]
  from = "/wiki/*"
  to = "https://github.com/muizenmesh/wiki"
  status = 302
  
[[redirects]]
  from = "/lab/*"
  to = "https://github.com/muizenmesh"
  status = 302
  
[[redirects]]
  from = "/wp/*"
  to = "https://github.com/muizenmesh"
  status = 302
  
[[redirects]]
  from = "/store/*"
  to = "mailto:info@muizenmesh.co.za"
  status = 302

# Handle mixer path variations
[[redirects]]
  from = "/mix"
  to = "/mixer"
  status = 301

# Security headers
[[headers]]
  for = "/*"
  [headers.values]
    X-Frame-Options = "DENY"
    X-XSS-Protection = "1; mode=block"
    X-Content-Type-Options = "nosniff"
    Referrer-Policy = "strict-origin-when-cross-origin"
    
# Cache static assets
[[headers]]
  for = "/css/*"
  [headers.values]
    Cache-Control = "public, max-age=31536000"
    
[[headers]]
  for = "/js/*"
  [headers.values]
    Cache-Control = "public, max-age=31536000"
    
[[headers]]
  for = "/images/*"
  [headers.values]
    Cache-Control = "public, max-age=31536000"
    
[[headers]]
  for = "/fonts/*"
  [headers.values]
    Cache-Control = "public, max-age=31536000"